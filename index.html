<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Telegram</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;overflow:hidden}:root{--bg:#fff;--bg2:#f4f4f5;--text:#000;--text2:#707579;--primary:#3390ec;--border:#ddd;--shadow:rgba(0,0,0,.1)}[data-theme="dark"]{--bg:#212121;--bg2:#181818;--text:#fff;--text2:#aaa;--border:#2f2f2f;--shadow:rgba(0,0,0,.3)}.app{display:flex;height:100vh;background:var(--bg);color:var(--text)}.sidebar{width:420px;background:var(--bg);border-right:1px solid var(--border);display:flex;flex-direction:column}.header{padding:15px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border)}.search{padding:10px;border-bottom:1px solid var(--border)}.search input{width:100%;padding:10px;border:none;border-radius:20px;background:var(--bg2);color:var(--text);outline:none}.chats{flex:1;overflow-y:auto}.chat{padding:12px 15px;display:flex;gap:12px;cursor:pointer;transition:.2s;border-bottom:1px solid var(--border)}.chat:hover,.chat.active{background:var(--bg2)}.avatar{width:50px;height:50px;border-radius:50%;background:var(--primary);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;flex-shrink:0}.chat-info{flex:1;min-width:0}.chat-top{display:flex;justify-content:space-between;margin-bottom:5px}.chat-name{font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chat-time{font-size:13px;color:var(--text2)}.chat-msg{color:var(--text2);font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.main{flex:1;display:flex;flex-direction:column;background:var(--bg2)}.chat-header{padding:15px;background:var(--bg);border-bottom:1px solid var(--border);display:flex;align-items:center;gap:12px}.messages{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;gap:8px}.message{max-width:60%;padding:8px 12px;border-radius:12px;animation:fadeIn .3s;word-wrap:break-word}.message.out{align-self:flex-end;background:var(--primary);color:#fff;border-radius:12px 12px 4px 12px}.message.in{align-self:flex-start;background:var(--bg);border-radius:12px 12px 12px 4px}.msg-time{font-size:11px;opacity:.7;margin-top:4px}.input-area{padding:15px;background:var(--bg);border-top:1px solid var(--border);display:flex;gap:10px}.input-area input{flex:1;padding:12px;border:none;border-radius:20px;background:var(--bg2);color:var(--text);outline:none}.btn{padding:10px 20px;border:none;border-radius:20px;background:var(--primary);color:#fff;cursor:pointer;transition:.2s}.btn:hover{opacity:.9}.icon-btn{width:40px;height:40px;border-radius:50%;border:none;background:transparent;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:.2s}.icon-btn:hover{background:var(--bg2)}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);align-items:center;justify-content:center;z-index:999}.modal.show{display:flex}.modal-content{background:var(--bg);padding:30px;border-radius:12px;max-width:400px;width:90%;animation:slideUp .3s}@keyframes slideUp{from{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.form-group{margin-bottom:15px}.form-group label{display:block;margin-bottom:5px;color:var(--text2)}.form-group input{width:100%;padding:10px;border:1px solid var(--border);border-radius:8px;background:var(--bg2);color:var(--text);outline:none}.settings{position:absolute;top:60px;right:15px;background:var(--bg);border:1px solid var(--border);border-radius:8px;padding:10px;display:none;box-shadow:0 4px 12px var(--shadow)}.settings.show{display:block}.settings-item{padding:10px;cursor:pointer;border-radius:6px;transition:.2s}.settings-item:hover{background:var(--bg2)}.badge{background:#ff0000;color:#fff;border-radius:10px;padding:2px 6px;font-size:11px;margin-left:auto}</style></head><body><div class="app" id="app"><div class="sidebar"><div class="header"><button class="icon-btn" onclick="toggleSettings()">â˜°</button><h2>Telegram</h2><button class="icon-btn" onclick="toggleTheme()">ðŸŒ™</button></div><div class="search"><input type="text" placeholder="Search" oninput="searchChats(this.value)"></div><div class="chats" id="chatsList"></div></div><div class="main"><div class="chat-header" id="chatHeader"><div class="avatar" id="currentAvatar"></div><div><div class="chat-name" id="currentName">Select a chat</div><div class="chat-time" id="currentStatus"></div></div></div><div class="messages" id="messages"></div><div class="input-area"><input type="text" id="messageInput" placeholder="Message" onkeypress="if(event.key==='Enter')sendMessage()"><button class="btn" onclick="sendMessage()">Send</button></div></div></div><div class="modal" id="loginModal"><div class="modal-content"><h2>Login to Telegram</h2><div class="form-group"><label>Phone</label><input type="tel" id="phone" placeholder="+1234567890"></div><div class="form-group" id="codeGroup" style="display:none"><label>Code</label><input type="text" id="code" placeholder="12345"></div><button class="btn" onclick="login()">Continue</button></div></div><div class="settings" id="settingsMenu"><div class="settings-item" onclick="showProfile()">Profile</div><div class="settings-item" onclick="showContacts()">Contacts</div><div class="settings-item" onclick="logout()">Logout</div></div><script src="https://cdn.jsdelivr.net/npm/telegram-mtproto@3.2.1/dist/telegram-mtproto.min.js"></script><script>const api={id:39163844,hash:'467ce2ef7bff3418fbf759f9e872993f'};let client,currentChat,chats={},messages={};function toggleTheme(){document.documentElement.toggleAttribute('data-theme','dark')}function toggleSettings(){document.getElementById('settingsMenu').classList.toggle('show')}async function login(){const phone=document.getElementById('phone').value,code=document.getElementById('code').value;if(!client){client=new MTProto({api_id:api.id,api_hash:api.hash});try{await client.call('auth.sendCode',{phone_number:phone,settings:{_:'codeSettings'}});document.getElementById('codeGroup').style.display='block'}catch(e){alert('Error: '+e.message)}}else if(code){try{await client.call('auth.signIn',{phone_number:phone,phone_code:code});document.getElementById('loginModal').classList.remove('show');loadChats()}catch(e){alert('Error: '+e.message)}}}async function loadChats(){try{const dialogs=await client.call('messages.getDialogs',{limit:50});dialogs.dialogs.forEach(d=>{const chat=dialogs.chats.find(c=>c.id===d.peer.chat_id)||dialogs.users.find(u=>u.id===d.peer.user_id);if(chat){chats[chat.id]={id:chat.id,name:chat.title||chat.first_name||'Unknown',avatar:chat.title?chat.title[0]:chat.first_name?chat.first_name[0]:'?',lastMsg:'',time:''};renderChat(chat.id)}});setTimeout(()=>loadChats(),5000)}catch(e){console.error(e)}}function renderChat(id){const c=chats[id],html=`<div class="chat" onclick="openChat(${id})"><div class="avatar">${c.avatar}</div><div class="chat-info"><div class="chat-top"><div class="chat-name">${c.name}</div><div class="chat-time">${c.time}</div></div><div class="chat-msg">${c.lastMsg}</div></div></div>`;document.getElementById('chatsList').insertAdjacentHTML('beforeend',html)}function openChat(id){currentChat=id;const c=chats[id];document.getElementById('currentAvatar').textContent=c.avatar;document.getElementById('currentName').textContent=c.name;document.getElementById('currentStatus').textContent='online';loadMessages(id)}async function loadMessages(id){document.getElementById('messages').innerHTML='';try{const history=await client.call('messages.getHistory',{peer:{_:'inputPeerChat',chat_id:id},limit:50});history.messages.forEach(m=>{renderMessage(m.message,m.out)})}catch(e){console.error(e)}}function renderMessage(text,out){const html=`<div class="message ${out?'out':'in'}">${text}<div class="msg-time">${new Date().toLocaleTimeString('en',{hour:'2-digit',minute:'2-digit'})}</div></div>`;document.getElementById('messages').insertAdjacentHTML('beforeend',html);document.getElementById('messages').scrollTop=999999}async function sendMessage(){const text=document.getElementById('messageInput').value.trim();if(!text||!currentChat)return;try{await client.call('messages.sendMessage',{peer:{_:'inputPeerChat',chat_id:currentChat},message:text,random_id:Math.floor(Math.random()*1e10)});renderMessage(text,true);document.getElementById('messageInput').value=''}catch(e){alert('Error: '+e.message)}}function searchChats(q){document.querySelectorAll('.chat').forEach(c=>{c.style.display=c.textContent.toLowerCase().includes(q.toLowerCase())?'flex':'none'})}function showProfile(){alert('Profile settings')}function showContacts(){alert('Contacts list')}function logout(){localStorage.clear();location.reload()}document.getElementById('loginModal').classList.add('show')</script></body></html>
